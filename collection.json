{"collection":{"info":{"_postman_id":"57b277c8-e233-4ba3-a6ce-2b5911a4b26f","name":"Users API","description":"This collection is designed to\n show how you might mock, test document a new API. In this case, we're assuming that we're going to create a basic user management API.\n\nIt has basic CRUD operations listed below.\n\nHit the \"Run in Postman\" button to see the pre-request and test scripts powering this collection.\n\nTry running the collection through the Collection Runner to see how the mock allows us to scope out all our responses and write our tests in advance.\n\n## Summary\n\nHaving undergone the effort of building out our collection in Postman first:\n\n- Using Postman Mocks\n- Writing tests\n \nThis has allowed us to then build out our API to match, meaning we could:\n(Update the `url` in the environment to `http://localhost:3000` and run the following Node API: https://github.com/matt-ball/users-api)\n\n- Debug our API as it was being built\n- Ensure parity with our mocks, meeting the designed blueprint\n- Run tests against the API as it was being built so that it's watertight\n\nAs a result:\n\n- We now have a shareable collection for our API\n- We have beautiful, rich documentation showing how it works\n- We can run our collection in a fully automated fashion and attach it to our CI/CD pipeline\n- We can create a Postman Monitor with no added effort to check for responsiveness and correctness","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Create","item":[{"name":"New user","event":[{"listen":"test","script":{"id":"2988e163-621a-444e-85b2-b99e6e777c98","exec":["pm.test(\"Response time is less than 1000ms\", function () {","    pm.expect(pm.response.responseTime).to.be.below(1000);","});","","//jacks code","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","//jacks code","","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","// pm.test(\"Status code is 400\", function () {","//     pm.response.to.have.status(400);","// });","","pm.test(\"Body matches string\", function () {","    pm.expect(pm.response.text()).to.include(\"Jones\");","});","","let lastname = pm.environment.get(\"lastname\")","console.log(lastname)","","console.log(pm.response)","","const res = pm.response.json();","","","pm.test('API response is successful', () => {","    pm.expect(res.status).to.eql('success');","});","","pm.test('Created user has correct type of user ID', () => {","    pm.expect(res.id).to.be.a('string');","});","","pm.test('Does not expose user password', () => {","    pm.expect(res).to.not.have.property('password');","});","","pm.test('Created user has all relevant fields', () => {","    pm.expect(res).to.have.all.keys('status', 'id', 'firstName', 'lastName');","});","","// pm.test('Created user matches submitted user', () => {","//     const requestedUser = _.omit(rawToObject(pm.request.body.urlencoded.toString()), 'password');","//     const response = _.omit(res, ['id', 'status']);","//     pm.expect(requestedUser).to.eql(response);","// });","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${res.id}`,","    method: 'delete'","});","","function rawToObject (str) {","    return str.split('&').reduce((prev, curr, i, arr) => {","        var p = curr.split('=');","        prev[decodeURIComponent(p[0])] = decodeURIComponent(p[1]);","        return prev;","    }, {});","}"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"61c32e42-0239-445b-8924-acd238de9010","exec":["console.log('JOHNS KEY:::')","","let johns_token = pm.environment.get('johns_token')","","console.log('JOHNS KEY:::' + johns_token)"],"type":"text/javascript"}}],"id":"cbd866e7-4073-40e5-a2dc-bca0343b1da1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"},{"key":"x-mock-response-code","value":"500","type":"text","disabled":true},{"key":"apiKey","value":"{{johns_token}}","type":"text"}],"body":{"mode":"urlencoded","urlencoded":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)","type":"text"},{"key":"lastName","value":"{{lastName}}","description":"The user's last name (required)","type":"text"},{"key":"password","value":"{{password}}","description":"The user's password (required)","type":"text"},{"key":"food","value":"snack","description":"description","type":"text"},{"key":"test","value":"test","type":"text"}]},"url":{"raw":"{{url}}/create?test=test","host":["{{url}}"],"path":["create"],"query":[{"key":"test","value":"test"}]},"description":"Creates a new user in the system. The user will be assigned an ID automatically. This can be found in the response."},"response":[{"id":"d16c1636-bcc1-4b88-8e75-deac1b16ab9c","name":"New user","originalRequest":{"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"}],"body":{"mode":"urlencoded","urlencoded":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)","type":"text"},{"key":"lastName","value":"{{lastName}}","description":"The user's last name (required)","type":"text"},{"key":"password","value":"{{password}}","description":"The user's password (required)","type":"text"}]},"url":{"raw":"{{url}}/create","host":["{{url}}"],"path":["create"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"101"},{"key":"ETag","value":"W/\"65-KsPJ95rCxmmvvRBY2Sqroxk2vmA\""},{"key":"Date","value":"Thu, 10 Jan 2019 23:58:59 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"status\": \"success\",\n    \"firstName\": \"{{$randomFirstName}}\",\n    \"lastName\": \"Jones\",\n    \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b7\"\n}"},{"id":"9c4ce0fc-d062-4153-8807-2b0e68546405","name":"New user (failure)","originalRequest":{"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"},{"key":"fhgu","value":"hff","type":"text"}],"body":{"mode":"file","file":{"src":""}},"url":{"raw":"{{url}}/create?status=fail","host":["{{url}}"],"path":["create"],"query":[{"key":"status","value":"fail"}]}},"code":400,"_postman_previewlanguage":"json","header":[{"key":"Access-Control-Allow-Credentials","value":""},{"key":"Access-Control-Allow-Headers","value":""},{"key":"Access-Control-Allow-Methods","value":""},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"Access-Control-Expose-Headers","value":""},{"key":"Content-Encoding","value":"gzip"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Date","value":"Mon, 10 Jun 2019 17:15:08 GMT"},{"key":"ETag","value":"W/\"65-KsPJ95rCxmmvvRBY2Sqroxk2vmA\""},{"key":"Server","value":"nginx"},{"key":"Vary","value":"Accept-Encoding"},{"key":"X-Powered-By","value":"Express"},{"key":"x-srv-span","value":"v=1;s=74ffbaf94164f2e0"},{"key":"x-srv-trace","value":"v=1;t=7dd8ae46cd0d8f93"},{"key":"Content-Length","value":"114"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"status\": \"fail\"\n}"},{"id":"e600b6e3-563f-451c-b145-d1c99244c12a","name":"500 bad","originalRequest":{"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"},{"key":"x-mock-response-code","value":"400","type":"text"}],"body":{"mode":"urlencoded","urlencoded":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)","type":"text"},{"key":"lastName","value":"{{lastName}}","description":"The user's last name (required)","type":"text"},{"key":"password","value":"{{password}}","description":"The user's password (required)","type":"text"},{"key":"food","value":"snack","description":"description","type":"text"},{"key":"test","value":"test","type":"text"}]},"url":{"raw":"{{url}}/create?status=bad","host":["{{url}}"],"path":["create"],"query":[{"key":"status","value":"bad"}]}},"code":500,"_postman_previewlanguage":"json","header":null,"cookie":[],"responseTime":null,"body":"{\n    \"staus\": \"bad\"\n}"},{"id":"9e6e300d-34ad-4ede-ae6b-734109286561","name":"test","originalRequest":{"method":"POST","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"},{"key":"x-mock-response-code","value":"500","type":"text","disabled":true}],"body":{"mode":"urlencoded","urlencoded":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)","type":"text"},{"key":"lastName","value":"{{lastName}}","description":"The user's last name (required)","type":"text"},{"key":"password","value":"{{password}}","description":"The user's password (required)","type":"text"},{"key":"food","value":"snack","description":"description","type":"text"},{"key":"test","value":"test","type":"text"}]},"url":{"raw":"{{url}}/create","host":["{{url}}"],"path":["create"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":null,"cookie":[],"responseTime":null,"body":"{\n    \"some\": \"test\"\n}"}]},{"name":"New Request","id":"d298d191-e6b9-4451-9dee-8db7ea5b3533","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":null},"response":[]}],"id":"ced2e027-27f5-44ed-bb8e-6b056c3244b1","description":"Brians docs....","event":[{"listen":"prerequest","script":{"id":"60ecb703-03b0-47c6-99e0-b3fa5a9a453a","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"16ad5a18-8845-4b8d-a90c-ac215a861111","type":"text/javascript","exec":["console.log('hi')"]}}]},{"name":"Read","item":[{"name":"Get all users","event":[{"listen":"test","script":{"id":"d766d06d-e10e-4b79-bcd4-ea977109c142","exec":["pm.test(\"Status code is 200\", function () {","    pm.response.to.have.status(200);","});","","let promise = new Promise(function(resolve, reject) {","  // executor (the producing code, \"singer\")","});","","","","const res = pm.response.json();","const id = pm.globals.get('id');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('One user exists', () => {","   pm.expect(res).to.have.length(2);","});","","pm.test('User has all relevant fields', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val).to.have.all.keys('id', 'firstName', 'lastName');","            ","        }","    });","});","","pm.test('User passwords are not exposed', () => {","    res.forEach((val) => {","       pm.expect(val).to.not.have.property('password');","    });","});","","// cleanup","pm.globals.unset('id');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${id}`,","    method: 'delete'","});"],"type":"text/javascript"},"exec":["const res = pm.response.json();","const id = pm.globals.get('id');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('One user exists', () => {","   pm.expect(res).to.have.length(2);","});","","pm.test('User has all relevant fields', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val).to.have.all.keys('id', 'firstName', 'lastName');","            ","        }","    });","});","","pm.test('User passwords are not exposed', () => {","    res.forEach((val) => {","       pm.expect(val).to.not.have.property('password');","    });","});","","// cleanup","pm.globals.unset('id');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${id}`,","    method: 'delete'","});"]},{"listen":"prerequest","script":{"id":"f0221eeb-7cf0-4e98-aa68-6ce22db0130f","exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"],"type":"text/javascript"},"exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"]}],"id":"6dab34a7-750d-4f9a-9388-255109c666af","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth"},"method":"GET","header":[{"key":"key","value":"{{key}}","type":"text"}],"url":{"raw":"{{url}}/get?all=true&foo=bar&some=key","host":["{{url}}"],"path":["get"],"query":[{"key":"all","value":"true"},{"key":"foo","value":"bar"},{"key":"some","value":"key"}]},"description":"Get all users in the system."},"response":[{"id":"5e88abd8-1996-42bc-96e0-0b4f3be1410b","name":"Get all users","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{url}}/get?all=true","host":["{{url}}"],"path":["get"],"query":[{"key":"all","value":"true"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"105"},{"key":"ETag","value":"W/\"69-ti7ujd/Cyb8EeoWoqRXh482Zy5o\""},{"key":"Date","value":"Fri, 11 Jan 2019 00:00:53 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"[\n    {\n        \"status\": \"success\"\n    },\n    {\n        \"firstName\": \"Tom\",\n        \"lastName\": \"Smith\",\n        \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b7\"\n    }\n]"}]},{"name":"Get user by ID","event":[{"listen":"test","script":{"id":"6ca43408-a96a-4779-ab79-7d12add6fe7c","exec":["// pm.test(\"Status code is 200\", function () {","//     pm.response.to.have.status(200);","// });","","// pm.test(\"Response time is less than 1200ms\", function () {","//     pm.expect(pm.response.responseTime).to.be.below(1200);","// });","","","// const res = pm.response.json();","// const id = pm.globals.get('id');","","// pm.test('Status code is 404', () => {","//     pm.response.to.have.status(404);","// });","","// // Testing the Response structure","// const schema = {","//     \"type\": \"object\",","//     \"properties\":{","//         \"status\": {","//             \"type\": \"string\"","//         }","//     },","//     \"required\": [\"status\"]","// };","  ","// pm.test(\"validate schema\", () =>{","//     pm.response.to.have.jsonSchema(schema)","// });","","","","// // pm.test('User matches requested user', () => {","// //     const id = pm.request.url.query.get('id');","// //     pm.expect(res[1].id).to.eql(id);","// // });","","// // pm.test('User has correct type of user ID', () => {","// //     pm.expect(res[1].id).to.be.a('string');","// // });","","// // pm.test('Does not expose user password', () => {","// //     pm.expect(res[1]).to.not.have.property('password');","// // });","","// // pm.test('User has all relevant fields', () => {","// //     pm.expect(res[1]).to.have.all.keys('id', 'firstName', 'lastName');","// // });","","// // // cleanup","// // pm.globals.unset('id');","","// // pm.sendRequest({","// //     url: `${pm.environment.get('url')}/delete?id=${id}`,","// //     method: 'delete'","// // });"],"type":"text/javascript"},"exec":["const res = pm.response.json();","const id = pm.globals.get('id');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('User matches requested user', () => {","    const id = pm.request.url.query.get('id');","    pm.expect(res[1].id).to.eql(id);","});","","pm.test('User has correct type of user ID', () => {","    pm.expect(res[1].id).to.be.a('string');","});","","pm.test('Does not expose user password', () => {","    pm.expect(res[1]).to.not.have.property('password');","});","","pm.test('User has all relevant fields', () => {","    pm.expect(res[1]).to.have.all.keys('id', 'firstName', 'lastName');","});","","// cleanup","pm.globals.unset('id');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${id}`,","    method: 'delete'","});"]},{"listen":"prerequest","script":{"id":"d59bab85-687f-40c9-97b0-0f2d70edfbfe","exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"],"type":"text/javascript"},"exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"]}],"id":"36b0afd4-2c22-4787-8dff-6864728d3f3f","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"x-mock-response-code","value":"200","type":"text","disabled":true},{"key":"x-mock-response-name","value":"Get user by ID (no user found)","type":"text","disabled":true},{"key":"x-mock-response-name","value":"Get user by ID 202","type":"text","disabled":true}],"url":{"raw":"{{url}}/get/?id={{id}}","host":["{{url}}"],"path":["get",""],"query":[{"key":"id","value":"{{id}}","description":"The user's ID (required)"}]},"description":"Retrieves a user by `id`."},"response":[{"id":"04c744fc-18f3-44f4-b4ce-d258ae318e26","name":"Get user by ID (no user found)","originalRequest":{"method":"GET","header":[{"key":"x-mock-response-code","value":"404","type":"text"}],"url":{"raw":"{{url}}/get/?id={{id}}","host":["{{url}}"],"path":["get",""],"query":[{"key":"id","value":"{{id}}","description":"The user's ID (required)"}]}},"code":404,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"36"},{"key":"ETag","value":"W/\"24-+nHORFhZtwqol4/kZqGURIjn3RE\""},{"key":"Date","value":"Fri, 11 Jan 2019 00:39:07 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"status\": \"no user found\",\n    \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b\"\n}"},{"id":"352b5494-8fd0-4c1f-84d5-35d9a95affd9","name":"Get user by ID 202","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{url}}/get/?id={{id}}","host":["{{url}}"],"path":["get",""],"query":[{"key":"id","value":"{{id}}","description":"The user's ID (required)"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"105"},{"key":"ETag","value":"W/\"69-PWyeF3E5khoqlHSeQl62TwtxWks\""},{"key":"Date","value":"Fri, 11 Jan 2019 00:03:13 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"[\n    {\n        \"status\": \"success\"\n    },\n    {\n        \"firstName\": \"Ben\",\n        \"lastName\": \"Smith\",\n        \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b7\"\n    }\n]"},{"id":"5846c612-1e8d-4c21-ae40-ab05219a4ee9","name":"Get user by ID 500","originalRequest":{"method":"GET","header":[{"key":"x-mock-response-name","value":"404","type":"text"}],"url":{"raw":"{{url}}/get/?id={{id}}","host":["{{url}}"],"path":["get",""],"query":[{"key":"id","value":"{{id}}","description":"The user's ID (required)"}]}},"code":500,"_postman_previewlanguage":"json","header":null,"cookie":[],"responseTime":null,"body":"{\"status\": \"500\"}"}]},{"name":"Get users by first name","event":[{"listen":"test","script":{"id":"cbfe6189-0246-40a1-84af-98f97ced090f","exec":["const res = pm.response.json();","const id = pm.globals.get('id');","const firstName = pm.variables.get('firstName');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('List of users is returned', () => {","    pm.expect(res).to.be.an('array');","});","","pm.test('All users have firstname: ' + firstName, () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val.firstName).to.eql(firstName);   ","        }","    });","});","","pm.test('User passwords are not exposed', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val).to.not.have.all.keys('password');   ","        }","    });","});","","pm.test('User has all relevant fields and correct types', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val.id).to.be.a('string');","            pm.expect(val.firstName).to.be.a('string');","            pm.expect(val.lastName).to.be.a('string');","        }","    });","});","","// cleanup","pm.globals.unset('id');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${id}`,","    method: 'delete'","});"],"type":"text/javascript"},"exec":["const res = pm.response.json();","const id = pm.globals.get('id');","const firstName = pm.variables.get('firstName');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('List of users is returned', () => {","    pm.expect(res).to.be.an('array');","});","","pm.test('All users have firstname: ' + firstName, () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val.firstName).to.eql(firstName);   ","        }","    });","});","","pm.test('User passwords are not exposed', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val).to.not.have.all.keys('password');   ","        }","    });","});","","pm.test('User has all relevant fields and correct types', () => {","    res.forEach((val, i) => {","        if (i > 0) {","            pm.expect(val.id).to.be.a('string');","            pm.expect(val.firstName).to.be.a('string');","            pm.expect(val.lastName).to.be.a('string');","        }","    });","});","","// cleanup","pm.globals.unset('id');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/delete?id=${id}`,","    method: 'delete'","});"]},{"listen":"prerequest","script":{"id":"4f5e3518-69a7-42c7-8643-367a9c629383","exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"],"type":"text/javascript"},"exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"]}],"id":"dae01439-8c11-4752-b2c2-805b5310749d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"{{url}}/get/?firstName={{firstName}}&vb","host":["{{url}}"],"path":["get",""],"query":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)"},{"key":"vb","value":null,"type":"text"}]},"description":"Retrieves all users with the given `firstName`."},"response":[{"id":"7398358e-71de-48e5-8fe6-2c24a06fed60","name":"Get users by first name","originalRequest":{"method":"GET","header":[],"url":{"raw":"{{url}}/get/?firstName={{firstName}}","host":["{{url}}"],"path":["get",""],"query":[{"key":"firstName","value":"{{firstName}}","description":"The user's first name (required)"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"105"},{"key":"ETag","value":"W/\"69-F/ktIhtM5We/sndYYNUK1vmdEnQ\""},{"key":"Date","value":"Fri, 11 Jan 2019 00:05:34 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"[\n    {\n        \"status\": \"success\"\n    },\n    {\n        \"firstName\": \"Ben\",\n        \"lastName\": \"Smith\",\n        \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b7\"\n    }\n]"}]}],"id":"aacce40a-7f28-48dd-b529-5a1ec4d3015b","description":"This is testing to see if the response is less than 1200 ms.\n\n\nHello","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":[""],"id":"84e84883-5666-4818-87d7-8f3218a8aa46"}},{"listen":"test","script":{"type":"text/javascript","exec":["console.log('hi from folder')"],"id":"57bb4dd3-b1a0-4dee-9130-8ddb38d8481d"}}]},{"name":"Update","item":[],"id":"1497c984-8b7f-4465-bc56-1b591dd44c6f"},{"name":"Delete","item":[{"name":"Delete user","event":[{"listen":"test","script":{"exec":["const response = pm.response;","const id = pm.globals.get('id');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('Operation is successful', () => {","    const res = response.json();","    pm.expect(res.status).to.eql('success');","});","","pm.test('User matches requested user', () => {","    const res = response.json();","    pm.globals.set(\"apiKey\", res.id);","    pm.expect(res.id).to.eql(id);","});","","pm.test('User can no longer be found', () => {","    pm.sendRequest({","        url: `${pm.environment.get('url')}/get?id=${id}`,","        header: 'x-mock-response-name:Get user by ID (no user found)',","        method: 'get'","    }, (err, res) => {","        res = res.json();","        pm.expect(res.status).to.eql('no user found');","    });","});","","// cleanup","pm.globals.unset('id');"],"type":"text/javascript","id":"2b46529c-9ff8-4dd2-aa4e-00093b6b168b"},"exec":["const response = pm.response;","const id = pm.globals.get('id');","","pm.test('Status code is 200', () => {","    pm.response.to.have.status(200);","});","","pm.test('Operation is successful', () => {","    const res = response.json();","    pm.expect(res.status).to.eql('success');","});","","pm.test('User matches requested user', () => {","    const res = response.json();","    pm.globals.set(\"apiKey\", res.id);","    pm.expect(res.id).to.eql(id);","});","","pm.test('User can no longer be found', () => {","    pm.sendRequest({","        url: `${pm.environment.get('url')}/get?id=${id}`,","        header: 'x-mock-response-name:Get user by ID (no user found)',","        method: 'get'","    }, (err, res) => {","        res = res.json();","        pm.expect(res.status).to.eql('no user found');","    });","});","","// cleanup","pm.globals.unset('id');"]},{"listen":"prerequest","script":{"exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"],"type":"text/javascript","id":"692510c3-5826-42ef-9da5-97fe98015917"},"exec":["const firstName = pm.variables.get('firstName');","const lastName = pm.variables.get('lastName');","const password = pm.variables.get('password');","","pm.sendRequest({","    url: `${pm.environment.get('url')}/create`,","    method: 'POST',","    header: 'Content-Type:application/x-www-form-urlencoded',","    body: {","        mode: 'raw',","        raw: `firstName=${firstName}&lastName=${lastName}&password=${password}`","    }","}, (err, res) => {","    res = res.json();","    pm.globals.set('id', res.id);","});"]}],"id":"57ff7818-df60-4e53-b4c5-19d3aef1383a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Content-Type","name":"Content-Type","value":"text/plain","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{url}}/delete?id={{id}}","host":["{{url}}"],"path":["delete"],"query":[{"key":"id","value":"{{id}}","description":"The user's ID"}]},"description":"Deletes a user from the system by `id`."},"response":[{"id":"b92a4362-cdd8-495c-a972-fe7db895aad4","name":"Delete user","originalRequest":{"method":"DELETE","header":[{"key":"Content-Type","name":"Content-Type","value":"application/x-www-form-urlencoded","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"{{url}}/delete?id={{id}}","host":["{{url}}"],"path":["delete"],"query":[{"key":"id","value":"{{id}}","description":"The user's ID"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"X-Powered-By","value":"Express"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"64"},{"key":"ETag","value":"W/\"40-bT/ASzl0KO3wj/eo2xEBaHPLnvk\""},{"key":"Date","value":"Fri, 11 Jan 2019 00:20:55 GMT"},{"key":"Connection","value":"keep-alive"}],"cookie":[],"responseTime":null,"body":"{\n    \"status\": \"success\",\n    \"id\": \"0729d37c-ef9f-4ffa-8f71-a6eedf1f95b7\"\n}"}]}],"id":"9b6b8bb0-4148-49bd-beb1-217a17c4e019"}],"event":[{"listen":"prerequest","script":{"id":"2f4c08cb-f3f1-440a-a155-b2f86f9a2833","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"497b1b00-46e9-415a-b3eb-27a4f2f090c1","type":"text/javascript","exec":["console.log('here')"]}}],"variable":[{"id":"37757ed2-55a5-4d02-8a76-5f86d08a91da","key":"firstName","value":"Ben"},{"id":"320d0b0c-bdae-43c1-81d4-856c9bd849a4","key":"lastName","value":"Smith"},{"id":"a82e23e3-1fa1-4963-bab8-983eac1e6e92","key":"password","value":"pw"}]}}